<?xml version="1.0" encoding="UTF-8"?>
<cheatsheet title="Créer des séquences">
   <intro href="/com.twinsoft.convertigo/help/Screens.html">
      <description>
         Une séquence sert à organiser des informations afin de réaliser l’XML final. C’est notamment elle qui va appeler les transactions.<br/><br/>
Le vocabulaire en gras dans cette aide est disponible dans (?).
      </description>
   </intro>
   <item title="First project (22)" dialog="true" skip="false">
      <description>
         Dans cette partie vous allez créer une séquence qui va construire le XML final et  comparer plusieurs recherche de mots.
      </description>
   </item>
   <item title="Créez une nouvelle séquence" dialog="true" skip="false">
      <description>
         Dans l’onglet <b>Projects  view</b> faites un clic droit votre projet puis appuyer sur:<br/><br/>
 &gt;New<br/><br/>
 &gt;Sequence<br/><br/>
 &gt;Generic sequence<br/><br/>
 &gt;Next<br/><br/>
 &gt;Finish
      </description>
   </item>
   <item title="First project (23)" dialog="true" skip="false">
      <description>
         &gt;Appelez votre séquence &quot;constructXML&quot;.
<br/><br/>
Votre séquence aura pour argument deux phrases qui seront traités par google puis comparés par Convertigo.
<br/> <br/> 
&gt;Pour les créer, cliquez sur la <b>séquence</b> puis sur la proprieté &quot;Variables&quot; puis sur &quot;...&quot;. 
<br/> <br/> 
&gt;Appuyez deux fois sur l&apos;icone bleu de la pop-up qui vient d&apos;apparaitre nommez la première variable &quot;word1&quot; et la seconde &quot;word2&quot; et assignez leurs des valeurs par défaut.
      </description>
   </item>
   <item title="Créez des steps" dialog="true" skip="false" href="http://doc.convertigo.com/JSPWiki/Wiki.jsp?page=Steps">
      <description>
         De nombreuses instructions sont disponibles pour les séquences: ce sont les <b>steps</b> (disponibles dans (?)).
 <br/><br/>
Pour ajouter un <b>step</b>à une <b>séquence</b> faites un clic droit sur la <b>séquence</b> puis appuyer sur &quot;new&quot; puis sur &quot;Step&quot;
      </description>
   </item>
   <item title="First project (24)" dialog="true" skip="false">
      <description>
         Commancez par transformer vos variables Javascript en variable XML.<br/> &gt;Pour ce faire vous allez créer deux steps &quot;jElement&quot; dans lesquels vous mettrez &quot;word1&quot; et &quot;word2&quot; dans les proprieté &quot;Expression&quot;<br/><br/>
Ces variables sont des valeurs auxiliaires que l&apos;on ne veut pas retrouver dans le résultat final.<br/>&gt; Pour que ce soit le cas cliquez sur chacun de ces <b>steps</b> et mettez leur proprieté &quot;Output&quot; à la valeur false.
      </description>
   </item>
   <item title="First project (25)" dialog="true" skip="false">
      <description>
         Appelez maintenant la transaction &quot;getData&quot; pour chacune des phrases à traiter.<br/><br/>
&gt;Créez deux steps &quot;Call Transaction&quot;.<br/><br/>
&gt;Choisissez la transaction &quot;getData&quot; dans la proprieté &quot;Transaction&quot; de chaqun des steps.
<br/><br/>
&gt;Faites un clic droit sur les steps &quot;call transaction&quot; et cliquez sur &quot;Import WSDL from traject transaction&quot; (Si cela ne marche pas reverifier l&apos; étape 21 )
<br/><br/>
&gt;Faites un clic droit sur les steps &quot;call transaction&quot; et cliquez sur &quot;Import variables from traject transaction&quot;
<br/><br/>
&gt;Cliquez sur les &quot;...&quot;  des proprietés &quot;variables&quot; des steps call transaction (wordToAnalyse est présent). Cliquez sur &quot;...&quot; de la proprieté &quot;Source&quot;, puis sur le bouton &quot;New Source&quot; puis sur un des step &quot;jElement&quot; créé dans l&apos;étape 24 (un différent par transaction).
      </description>
   </item>
   <item title="First project (26)" dialog="true" skip="false">
      <description>
         &gt;Créez un step&quot;Complex&quot; qui les englobera les résultats d&apos;une recherche google.<br/><br/>
&gt;Faites un clic droit sur ce step &quot;Complex&quot; et faite &quot;new&quot; --&gt; &quot;Step&quot; --&gt; &quot;Element&quot;
<br/><br/>
&gt;Mettez la proprieté &quot;Node name&quot; à la valeur &quot;wordSearch&quot;
<br/><br/>
&gt;Cliquez sur le &quot;...&quot; de la proprieté &quot;Source&quot;,puis sur &quot;New Source&quot; et choisissez le step &quot;jelement&quot; contenant &quot;word1&quot;
      </description>
   </item>
   <item title="First project (27)" dialog="true" skip="false" href="http://www.regular-expressions.info/reference.html">
      <description>
         &gt;Faites un clic droit sur le step de type &quot;Complex&quot; et faite &quot;new&quot; --&gt; &quot;Step&quot; --&gt; &quot;Transform&quot;: ce step transforme une chaine de charactères<br/><br/>
&gt;Mettez la proprieté &quot;Node name&quot;(du step Transform) à la valeur &quot;nbAnswers&quot;
<br/><br/>
&gt;Cliquez sur le &quot;...&quot; de la proprieté &quot;Source&quot;,puis sur &quot;New Source&quot;. Cliquez sur le step &quot;Call Transactiont&quot; qui traite le premier mot et choisissez sur l&apos;écran de droite la valeur &quot;XMLText&quot; qui vient d&apos;apparaitre.
<br/><br/>
&gt;Cliquez sur le &quot;...&quot; de la proprieté &quot;Replacement&quot;. Créez deux lignes dans ce formulaire grace au bouton bleu.<br/>
 La colonne &quot;Regular exp&quot; correspond au texte que l&apos;on veut remplacer. La colonne &quot;Replacement&quot; corresond aude remplacement . Ces champs peuvent etre écrits grace au expressions régulières dont la sémentique est présent dans (?).
 <br/><br/>
 &gt;Mettez &quot;(.*)about &quot; dans la colone  &quot;Replacement&quot; d&apos;une des lignes et &quot; for(.*)&quot; dans l&apos; autre.
      </description>
   </item>
   <item title="First project (28)" dialog="true" skip="false">
      <description>
         &gt;Faites un clic droit sur le step de type &quot;Complex&quot; et faite &quot;new&quot; --&gt; &quot;Step&quot; --&gt; &quot;Iterator&quot;: ce step va executer  toutes les instructions qu&apos;il contient une fois pour chaque element qu&apos;il dans son paramètre &quot;Source&quot;,<br/><br/>
&gt;Cliquez sur le &quot;...&quot; de la proprieté &quot;Source&quot;,puis sur &quot;New Source&quot; cliquez ensuite sur le step &quot;Call Transaction&quot; qui traite le premier mot et choisissez sur l&apos;écran de droite la valeur &quot;XMLRecord&quot; qui vient d&apos;apparaitre.
      </description>
   </item>
   <item title="First project (29)" dialog="true" skip="false">
      <description>
         &gt;Faites un clic droit sur le step de type &quot;<b>Iterator</b>&quot; et faite &quot;new&quot; --&gt; &quot;Step&quot; --&gt; &quot;Element&quot;<br/><br/>
&gt;Mettez la proprieté &quot;Node name&quot;(du step Element) à la valeur &quot;title&quot;
<br/><br/>
&gt;Cliquez sur le &quot;...&quot; de la proprieté &quot;Source&quot;, puis sur &quot;New Source&quot; puis cliquez sur le step &quot;Iterator&quot;  choisissez sur l&apos;écran de droite la valeur &quot;title&quot; sous  &quot;XMLRecord&quot;.
      </description>
   </item>
   <item title="First project (30)" dialog="true" skip="false">
      <description>
         &gt;Faites un clic droit sur le step de type &quot;Iterator&quot; et faite &quot;new&quot; --&gt; &quot;Step&quot; --&gt; &quot;Element&quot;<br/><br/>
&gt;Mettez la proprieté &quot;Node name&quot;(du step Element) à la valeur &quot;adress&quot;
<br/><br/>
&gt;Cliquez sur le &quot;...&quot; de la proprieté &quot;Source&quot;,sur &quot;New Source&quot; puis cliquez sur le step &quot;Iterator&quot;  choisissez sur l&apos;écran de droite la valeur &quot;adress&quot; sous le &quot;XMLRecord&quot;.
      </description>
   </item>
   <item title="First project (31)" dialog="true" skip="false">
      <description>
         Recommencer à partir de l&apos;étape 26 pour le deuxième mot.
      </description>
   </item>
   <item title="Testez vos séquences" dialog="true" skip="false">
      <description>
         Pour tester une <b>séquence</b>, faites un double clic sur la séquence (une nouvelle fenêtre <b>connector view</b> se lance).<br/>
 Faites un clic droit sur la <b>séquence</b> puis appuyez sur &quot;Execute&quot;.
  <br/><br/>Le résultat se trouve dans l’onglet <b>Output Tag</b> de la <b>navigator area</b>
      </description>
   </item>
   <item title="ajouter une feuille de style (optionel)" dialog="true" skip="false">
      <description>
         Vous pouvez transformer votre sortie XML en code  HTML grâce aux XSL sheet<br/><br/>&gt;Mettez la proprieté &quot;Style sheet&quot; de la séquence à la valeur &quot;from sequence&quot; <br/><br/>&gt; Faites un clic droit sur la <b>séquence</b>,appuyez sur &quot;New&quot; puis sur &quot;Sheet&quot; et enfin sur &quot;XSL style sheet&quot;.<br/><br/>&gt;Dans la proprieté &quot;URL&quot; de cette sheet ecrivez un nom de fichier suivi de l&apos;extension &quot;.xsl&quot;<br/><br/> &gt;Dans la vue &quot;Project Explorer view &quot;, faites un clic droit sur le repertoire de votre projet, cliquez sur &quot;New&quot;, sur &quot;File&quot; et nommez la du nom entré dans &quot;URL&quot;.<br/> <br/>&gt;Ecrivez enfin votre code XSL dans le fichier
<br/> <br/>Le résultat sera dans l&apos;onglet &quot;Browser&quot; de la <b>Connector view</b>
      </description>
   </item>
   <item title="First project (32)" dialog="true" skip="false">
      <description>
         Il existe énormément de possibilité pour un projet et ce premier exemple n&apos;en montre qu&apos;une partie infime.
<br/><br/>
copier coller  le texte suivant dans votre fichier XSL pour avoir un exemple de rendu:
<br/><br/>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:lxslt=&quot;http://xml.apache.org/xslt&quot;&gt;
	&lt;xsl:output encoding=&quot;UTF-8&quot; media-type=&quot;text/html&quot; method=&quot;html&quot;/&gt;


	&lt;xsl:template match=&quot;/document&quot;&gt;
	
	
		&lt;HTML&gt;

		&lt;HEAD&gt;

		  &lt;TITLE&gt;Titre de la page&lt;/TITLE&gt;		  
		  
	&lt;style&gt;



	
a {
color:#0A6EB1;
text-decoration:underline;
font-family:verdana,lucida,arial,helvetica;
font-size:10pt;
}

.main-table {
border-color:papayawhip darkgray darkgray papayawhip;
border-style:solid;
border-width:2px;

}

td {

border-width:1px;
border-spacing: 1px;
}

.table-row0 {
background-color:#E6E8F0;
}
.table-row1 {
background-color:ghostwhite;
}
.title {
background-color:#0A6EB1;
color:white;
font-family:tahoma,verdana,lucida,arial,helvetica;
font-size:11pt;
height:30pt;

}


	&lt;/style&gt;
		&lt;/HEAD&gt;

		&lt;BODY &gt;

		&lt;table   class=&quot;main-table&quot;&gt;
			&lt;tbody&gt;				
				&lt;tr class=&quot;title&quot;&gt;
				
				&lt;xsl:for-each select=&quot;element&quot;&gt;
					&lt;!--   &lt;xsl:sort select=&quot;stock&quot; /&gt;   --&gt;
					&lt;xsl:call-template name=&quot;doTitle&quot; /&gt;		
					
				&lt;/xsl:for-each&gt;
	
				&lt;/tr&gt;	
				
				&lt;tr class=&quot;table-row1&quot;&gt;
					&lt;xsl:for-each select=&quot;element&quot;&gt;
					
					&lt;!--   &lt;xsl:sort select=&quot;stock&quot; /&gt;   --&gt;
					&lt;xsl:call-template name=&quot;doLines&quot; /&gt;		
					
				&lt;/xsl:for-each&gt;
				&lt;/tr&gt;	
		
				
			&lt;/tbody&gt;
		&lt;/table&gt;
		

		

		&lt;/BODY&gt;

		&lt;/HTML&gt;

	&lt;/xsl:template &gt;


	
 &lt;xsl:template name=&quot;doTitle&quot;&gt; 
	&lt;th&gt;&quot;&lt;xsl:value-of select=&quot;wordSearch&quot; /&gt;&quot; was find about &lt;xsl:value-of select=&quot;nbAnsewrs&quot; /&gt; times&lt;/th&gt;
&lt;/xsl:template&gt;


 &lt;xsl:template name=&quot;doLines&quot;&gt;  
	&lt;td&gt;
	&lt;xsl:for-each select=&quot;title&quot;&gt;
					
					&lt;!--   &lt;xsl:sort select=&quot;stock&quot; /&gt;   --&gt;
					&lt;xsl:call-template name=&quot;doLine&quot; /&gt;		
					
				&lt;/xsl:for-each&gt;
	&lt;/td&gt;	
&lt;/xsl:template&gt;


 &lt;xsl:template name=&quot;doLine&quot;&gt; 
	&lt;div&gt;		
		&lt;a href=&quot;{./following-sibling::adress[1]}&quot;&gt;&lt;xsl:value-of select=&quot;.&quot; /&gt;&lt;/a&gt;<br/><br/>
	&lt;/div&gt;	
&lt;/xsl:template&gt;


&lt;/xsl:stylesheet&gt;
      </description>
   </item>
   <item title="problème with first project" dialog="true" skip="false">
      <description>
         Si votre projet ne fonctionne pas correctement, vous pouvez appuyer sur le bouton <b>import project icon</b> puis choisissez le projet workspace/Convertigo4/help/testCorr.car pour importer le project d&apos;exemple. Regardez alors vos erreurs.
      </description>
   </item>
</cheatsheet>
