<!--
 * Copyright (c) 2001-2014 Convertigo SA.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Affero General Public License
 * as published by the Free Software Foundation; either version 3
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, see<http://www.gnu.org/licenses/>.
 *
 * $URL$
 * $Author$
 * $Revision$
 * $Date$
-->

<div class="log-toolbar-button log-z-index-20000">
    <button id="logToggleOptions">Options</button><br/>
    <button id="logTogglePurge">Purge</button><br/>
    <button id="logToggleLevel">Log levels</button><br/>
    <button id="logToggleHelp">Help</button>
    <hr id="logToggleButtons"/>    
</div>

<div id="logOptions" class="log-z-index-20000">
    <div class="log-options-column">
        <div id="logDivOptionsToolbar">
            <input type="checkbox" class="log-reset-to-unchecked" value="fullscreen" id="logOptionsFullScreen"/> <label for="logOptionsFullScreen">Full screen</label>
            <input type="checkbox" class="log-reset-to-unchecked" value="realtime" id="logOptionsRealTime"/> <label for="logOptionsRealTime">Real-time</label>
            <input type="checkbox" class="log-reset-to-checked" value="realtimeAutoscroll" id="logOptionsRealTimeAutoScroll" title="The autoscroll option is available in case of real-time"/> <label title="The autoscroll option is available in case of real-time" for="logOptionsRealTimeAutoScroll">Autoscroll</label>
            <button id="logOptionsDownload">Download</button>
            <button id="logOptionsReset">Reset options</button>
            <button id="logOptionsGoToEnd">Go to end</button>
        </div>
        <form>
            <div>
	            <div style="float: left">
		            <div class="log-options-selected-columns">
		                Selected columns
		                <input type="checkbox" class="log-column-selector log-reset-to-checked" value="category" id="logOptionsSelectedColumnCategory"/> <label for="logOptionsSelectedColumnCategory">Category</label>
		                <input type="checkbox" class="log-column-selector log-reset-to-checked" value="time" id="logOptionsSelectedColumnTime"/> <label for="logOptionsSelectedColumnTime">Time</label>
		                <input type="checkbox" class="log-column-selector log-reset-to-unchecked" value="delta-time" id="logOptionsSelectedColumnDeltaTime"/> <label for="logOptionsSelectedColumnDeltaTime">Delta time</label>
		                <input type="checkbox" class="log-column-selector log-reset-to-unchecked" value="level" id="logOptionsSelectedColumnLevel"/> <label for="logOptionsSelectedColumnLevel">Level</label>
		                <input type="checkbox" class="log-column-selector log-reset-to-checked" value="thread" id="logOptionsSelectedColumnThread"/> <label for="logOptionsSelectedColumnThread">Thread</label>
		                <input type="checkbox" class="log-column-selector log-reset-to-checked" value="message" id="logOptionsSelectedColumnMessage"/> <label for="logOptionsSelectedColumnMessage">Message</label>
		                <input type="checkbox" class="log-column-selector log-reset-to-checked" value="extra" id="logOptionsSelectedColumnExtra"/> <label for="logOptionsSelectedColumnExtra">Extra</label>
		            </div>
		            <div id="logOptionsDivDate">
		                <b>Start date</b>
		                <input class="log-field-date date-pick" type="text" id="logOptionsStartDate"/>
		                <select class="log-field-hour" id="logOptionsStartHour"></select>h
		                <select class="log-field-minute" id="logOptionsStartMinute"></select>m
		                <select class="log-field-second" id="logOptionsStartSecond"></select>s
		        
		                &nbsp;<b>End date</b>
		                <input class="log-field-date date-pick" type="text" id="logOptionsEndDate"/>
		                <select class="log-field-hour" id="logOptionsEndHour"></select>h
		                <select class="log-field-minute" id="logOptionsEndMinute"></select>m
		                <select class="log-field-second" id="logOptionsEndSecond"></select>s
		            </div>
		            <div id="logOptionsDivFilter">
		                Filter
		                <input type="text" id="logOptionsFilter" class="log-field-text"/>
                        <button id="logOptionsClearFilter" title="Clear filter" type="button"></button>            
		            </div>
	            </div>
	            <div style="float: left; vertical-align: middle; height: 100%">
                    <button id="logOptionsApplyOptions" type="submit">Apply<br/>options</button>
	            </div>
	            <div style="clear:both;"></div>
            </div>
        </form>
    </div>
</div>

<div id="logPurge" class="log-z-index-20000">
    <div id="logPurgeSlider"></div>
    <span id="logPurgeMsgEmpty">No selected date</span>
    <span id="logPurgeMsgNotEmpty" class="main-display-none">Delete logs files older than <span id="logSelectedDate"></span></span>
    <button id="logPurgeButton">Purge</button>
    <div id="logPurgeConfirm"></div>
    <div id="logPurgeSuccess">Selected logs successfully deleted <div>Except for :<ul id="logPurgeFailed"></ul></div></div>
</div>

<div id="logLevel" class="log-z-index-20000">
	<h4>Log levels</h4>
	<div>
		<table id="logLevelCopyFromConfiguration"></table>	
		<div id="logLevelCopyFromConfigurationButton"></div>
	</div>	
</div>

<div id="logHelp" class="log-z-index-20000">

	<div class="log-help-column">
	
		<h4>Toolbar</h4>
		<p>A toolbar for log viewer actions is present on the top left of the
		screen. This toolbar will remain in this position whatever the browser
		scrolling position is.</p>
		<p>You can:</p>
        <ul>
            <li>Set the log viewer options</li>
            <li>Display this help content</li>
        </ul>
		<p>Just click on one of the buttons in order to display or hide the
		selected toolbar item.</p>
		
		<h4>Log entries</h4>
		<p>Convertigo EMS stores its logs into log files. For simplicity reasons,
		you have an unified vision of all log files, i.e. you do not directly
		manipulate log files, but you rather have access to virtually all the
		log entries found in any log files.</p>
		
		<h4>Columns</h4>
		<p>The log entries are displayed in a table. You can select the columns
		you want to display.<br/>
		A special column ("Delta time") can be useful when you are trying to check
		the duration of execution parts: this column displays the time difference
		between each consecutive log lines.</p>
	
        <h4>Start/end date</h4>
        <p>You can select a subset of log entries, specified by a date interval.</p>
        <p>The start/end date are included in the resulting subset.<br/>
        The date format is: 'yyyy-mm-dd'.</p>
        
    </div>

    <div class="log-help-column">
    
        <h4>Filters</h4>
        <p>Filters can help you to smartly select a specific part of the log entries.</p>
        <p>A filter is a Javascript set of conditions, that have to match for each
        line of log files.</p>
        <p>You can right click in any cell of the log entries: this will open a
        popup menu allowing you to add a new condition to the filter, based on the
        text you selected in the clicked cell.</p>
        
		<h4>Display logs content</h4>
		<p>Logs are displayed according to the given filter and date interval. The
		log viewer tries to retrieves as many log lines as possible, within a time
		and a number of lines limit. If one of these limits is reached, but some logs
		lines remains, you will have the possibility to request for these remaining
		log lines with a button at the end of the current log lines.</p>
		
		<h4>Real-time log viewing</h4>
		<p>You can display logs in real-time, i.e. the display is contineously
		updated. This is very useful when you are trying to see a special event
		thru the logs.</p>
		<p>Just toggle the real-time button in order to set or unset the
		real-time mode.</p>
		
		<h4>Download</h4>
		<p>You can download a part of log entries, possibly with a given filter
		and date interval.</p>
		
		<h4>Purge</h4>
		<p>You can delete or compress a part of log entries, possibly with a given
		filter and date interval.</p>
		
	</div>

</div>

<div id="logDivTable" class="log-z-index-10000">
	<table id="logTable">
	    <thead>
	        <tr>
	            <th class="log-column-line-number"></th>
	            <th class="log-column-category" >Category</th>
                <th class="log-column-time">Time</th>
                <th class="log-column-delta-time">Delta time</th>
	            <th class="log-column-level">Level</th>
	            <th class="log-column-thread">Thread</th>
	            <th class="log-column-message">Message</th>
	            <th class="log-column-extra">Extra</th>
	        </tr>
	    </thead>
        <tbody>
        </tbody>
	</table>
    <div id="logDivEndOfTable">
        <span id="logMessageEndOfLogs">End of logs</span>
        <span id="logMessageSearching">Searching for results...</span>
        <span id="logMessageMoreResults">More results are available...</span>
        <button id="logOptionsUpdate">Update</button>
    </div>
</div>

<ul id="logContextualMenu" class="contextMenu">
    <li class="log-context-menu-add-command-equals">
        <a href="#addCommandEquals">Add "equals" command</a>
    </li>
    <li class="log-context-menu-add-command-contains">
        <a href="#addCommandContains">Add "contains" command</a>
    </li>
    <li class="log-context-menu-add-command-starts-with">
        <a href="#addCommandStartsWith">Add "starts with" command</a>
    </li>
    <li class="log-context-menu-add-command-ends-with">
        <a href="#addCommandEndsWith">Add "ends with" command</a>
    </li>
    <li class="log-context-menu-add-variable log-context-menu-item-extra separator">
        <a href="#addVariable" id="logContextMenuItemExtra">Add variable</a>
    </li>
    <li class="log-context-menu-set-start-date log-context-menu-item-date separator">
        <a href="#setStartDate">Set start date</a>
    </li>
    <li class="log-context-menu-set-end-date log-context-menu-item-date">
        <a href="#setEndDate">Set end date</a>
    </li>
</ul>
