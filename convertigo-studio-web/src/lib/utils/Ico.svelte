<script module>
	import MdiAccountOutline from '~icons/mdi/account-outline';
	import MdiAccountSupervisorCircleOutline from '~icons/mdi/account-supervisor-circle-outline';
	import MdiApi from '~icons/mdi/api';
	import MdiApplicationOutline from '~icons/mdi/application-outline';
	import MdiArrowLeft from '~icons/mdi/arrow-left';
	import MdiArrowRight from '~icons/mdi/arrow-right';
	import MdiArrowRightThick from '~icons/mdi/arrow-right-thick';
	import MdiArrowULeftTop from '~icons/mdi/arrow-u-left-top';
	import MdiBackupRestore from '~icons/mdi/backup-restore';
	import MdiBookMultiple from '~icons/mdi/book-multiple';
	import MdiBookOpenVariant from '~icons/mdi/book-open-variant';
	import MdiBookmarkCheckOutline from '~icons/mdi/bookmark-check-outline';
	import MdiBriefcaseUploadOutline from '~icons/mdi/briefcase-upload-outline';
	import MdiBroom from '~icons/mdi/broom';
	import MdiCached from '~icons/mdi/cached';
	import MdiCalendarClock from '~icons/mdi/calendar-clock';
	import MdiCalendarRange from '~icons/mdi/calendar-range';
	import MdiCertificate from '~icons/mdi/certificate';
	import MdiCheck from '~icons/mdi/check';
	import MdiCheckAll from '~icons/mdi/check-all';
	import MdiChevronRight from '~icons/mdi/chevron-right';
	import MdiClockStarFourPointsOutline from '~icons/mdi/clock-star-four-points-outline';
	import MdiClose from '~icons/mdi/close';
	import MdiCloseCircleOutline from '~icons/mdi/close-circle-outline';
	import MdiCloudOutline from '~icons/mdi/cloud-outline';
	import MdiCloudSyncOutline from '~icons/mdi/cloud-sync-outline';
	import MdiCodeBlockBraces from '~icons/mdi/code-block-braces';
	import MdiCodeBraces from '~icons/mdi/code-braces';
	import MdiCodeTags from '~icons/mdi/code-tags';
	import MdiCoffee from '~icons/mdi/coffee';
	import MdiCog from '~icons/mdi/cog';
	import MdiCogOutline from '~icons/mdi/cog-outline';
	import MdiContentSaveEditOutline from '~icons/mdi/content-save-edit-outline';
	import MdiDatabase from '~icons/mdi/database';
	import MdiDatabaseClockOutline from '~icons/mdi/database-clock-outline';
	import MdiDatabaseSyncOutline from '~icons/mdi/database-sync-outline';
	import MdiDeleteOutline from '~icons/mdi/delete-outline';
	import MdiDotsVertical from '~icons/mdi/dots-vertical';
	import MdiDownloadLockOutline from '~icons/mdi/download-lock-outline';
	import MdiDownloadOffOutline from '~icons/mdi/download-off-outline';
	import MdiEditOutline from '~icons/mdi/edit-outline';
	import MdiEmailOutline from '~icons/mdi/email-outline';
	import MdiEmoticonHappyOutline from '~icons/mdi/emoticon-happy-outline';
	import MdiExport from '~icons/mdi/export';
	import MdiEye from '~icons/mdi/eye';
	import MdiEyeOff from '~icons/mdi/eye-off';
	import MdiEyeOffOutline from '~icons/mdi/eye-off-outline';
	import MdiEyeOutline from '~icons/mdi/eye-outline';
	import MdiFileDocumentBoxOutline from '~icons/mdi/file-document-box-outline';
	import MdiFileQuestionOutline from '~icons/mdi/file-question-outline';
	import MdiFilter from '~icons/mdi/filter';
	import MdiFilterCog from '~icons/mdi/filter-cog';
	import MdiFilterCogOutline from '~icons/mdi/filter-cog-outline';
	import MdiFitToPageOutline from '~icons/mdi/fit-to-page-outline';
	import MdiFolderOutline from '~icons/mdi/folder-outline';
	import MdiFullscreen from '~icons/mdi/fullscreen';
	import MdiGithub from '~icons/mdi/github';
	import MdiHomeAlertOutline from '~icons/mdi/home-alert-outline';
	import MdiHomeOutline from '~icons/mdi/home-outline';
	import MdiHub from '~icons/mdi/hub';
	import MdiImport from '~icons/mdi/import';
	import MdiInvoiceScheduledOutline from '~icons/mdi/invoice-scheduled-outline';
	import MdiKeyOutline from '~icons/mdi/key-outline';
	import MdiLanConnect from '~icons/mdi/lan-connect';
	import MdiLandPlots from '~icons/mdi/land-plots';
	import MdiLanguageJava from '~icons/mdi/language-java';
	import MdiLanguageRuby from '~icons/mdi/language-ruby';
	import MdiLayersOutline from '~icons/mdi/layers-outline';
	import MdiLock from '~icons/mdi/lock';
	import MdiLockOpenVariant from '~icons/mdi/lock-open-variant';
	import MdiLockOutline from '~icons/mdi/lock-outline';
	import MdiMagnify from '~icons/mdi/magnify';
	import MdiMagnifyMinusOutline from '~icons/mdi/magnify-minus-outline';
	import MdiMagnifyPlusOutline from '~icons/mdi/magnify-plus-outline';
	import MdiMarketplaceOutline from '~icons/mdi/marketplace-outline';
	import MdiMenu from '~icons/mdi/menu';
	import MdiMinus from '~icons/mdi/minus';
	import MdiMoonAndStars from '~icons/mdi/moon-and-stars';
	import MdiOpenInNew from '~icons/mdi/open-in-new';
	import MdiPackageVariantClosed from '~icons/mdi/package-variant-closed';
	import MdiPaletteOutline from '~icons/mdi/palette-outline';
	import MdiPhoneRotateLandscape from '~icons/mdi/phone-rotate-landscape';
	import MdiPlayCircleOutline from '~icons/mdi/play-circle-outline';
	import MdiPlus from '~icons/mdi/plus';
	import MdiPowerPlug from '~icons/mdi/power-plug';
	import MdiReceiptTextSendOutline from '~icons/mdi/receipt-text-send-outline';
	import MdiRefresh from '~icons/mdi/refresh';
	import MdiReload from '~icons/mdi/reload';
	import MdiResizeHorizontal from '~icons/mdi/resize-horizontal';
	import MdiSearch from '~icons/mdi/search';
	import MdiSmartphoneLink from '~icons/mdi/smartphone-link';
	import MdiStarOutline from '~icons/mdi/star-outline';
	import MdiStarThreePointsOutline from '~icons/mdi/star-three-points-outline';
	import MdiSync from '~icons/mdi/sync';
	import MdiTable from '~icons/mdi/table';
	import MdiToggleSwitch from '~icons/mdi/toggle-switch';
	import MdiToggleSwitchOffOutline from '~icons/mdi/toggle-switch-off-outline';
	import MdiTuneVerticalVariant from '~icons/mdi/tune-vertical-variant';
	import MdiUnfoldMoreHorizontal from '~icons/mdi/unfold-more-horizontal';
	import MdiUpdate from '~icons/mdi/update';
	import MdiVideoOutline from '~icons/mdi/video-outline';
	import MdiViewDashboardOutline from '~icons/mdi/view-dashboard-outline';
	import MdiWarningOutline from '~icons/mdi/warning-outline';
	import MdiWeatherSunny from '~icons/mdi/weather-sunny';
	import MdiWrench from '~icons/mdi/wrench';
	import ConvertigoLogo from './icons/ConvertigoLogo.svelte';

	export const ico = {
		'convertigo:logo': ConvertigoLogo,
		'mdi:account-outline': MdiAccountOutline,
		'mdi:account-supervisor-circle-outline': MdiAccountSupervisorCircleOutline,
		'mdi:api': MdiApi,
		'mdi:application-outline': MdiApplicationOutline,
		'mdi:arrow-u-left-top': MdiArrowULeftTop,
		'mdi:arrow-right': MdiArrowRight,
		'mdi:arrow-right-thick': MdiArrowRightThick,
		'mdi:chevron-right': MdiChevronRight,
		'mdi:arrow-left': MdiArrowLeft,
		'mdi:backup-restore': MdiBackupRestore,
		'mdi:book-multiple': MdiBookMultiple,
		'mdi:book-open-variant': MdiBookOpenVariant,
		'mdi:bookmark-check-outline': MdiBookmarkCheckOutline,
		'mdi:briefcase-upload-outline': MdiBriefcaseUploadOutline,
		'mdi:broom': MdiBroom,
		'mdi:cached': MdiCached,
		'mdi:calendar-clock': MdiCalendarClock,
		'mdi:calendar-range': MdiCalendarRange,
		'mdi:certificate': MdiCertificate,
		'mdi:check': MdiCheck,
		'mdi:check-all': MdiCheckAll,
		'mdi:clock-star-four-points-outline': MdiClockStarFourPointsOutline,
		'mdi:close': MdiClose,
		'mdi:close-circle-outline': MdiCloseCircleOutline,
		'mdi:cloud-outline': MdiCloudOutline,
		'mdi:cloud-sync-outline': MdiCloudSyncOutline,
		'mdi:code-block-braces': MdiCodeBlockBraces,
		'mdi:code-braces': MdiCodeBraces,
		'mdi:code-tags': MdiCodeTags,
		'mdi:coffee': MdiCoffee,
		'mdi:cog-outline': MdiCogOutline,
		'mdi:cog': MdiCog,
		'mdi:content-save-edit-outline': MdiContentSaveEditOutline,
		'mdi:database-clock-outline': MdiDatabaseClockOutline,
		'mdi:database-sync-outline': MdiDatabaseSyncOutline,
		'mdi:database': MdiDatabase,
		'mdi:delete-outline': MdiDeleteOutline,
		'mdi:dots-vertical': MdiDotsVertical,
		'mdi:download-lock-outline': MdiDownloadLockOutline,
		'mdi:download-off-outline': MdiDownloadOffOutline,
		'mdi:edit-outline': MdiEditOutline,
		'mdi:email-outline': MdiEmailOutline,
		'mdi:emoticon-happy-outline': MdiEmoticonHappyOutline,
		'mdi:export': MdiExport,
		'mdi:eye-off': MdiEyeOff,
		'mdi:eye': MdiEye,
		'mdi:eye-outline': MdiEyeOutline,
		'mdi:eye-off-outline': MdiEyeOffOutline,
		'mdi:file-document-box-outline': MdiFileDocumentBoxOutline,
		'mdi:file-question-outline': MdiFileQuestionOutline,
		'mdi:filter-cog-outline': MdiFilterCogOutline,
		'mdi:filter-cog': MdiFilterCog,
		'mdi:filter': MdiFilter,
		'mdi:folder-outline': MdiFolderOutline,
		'mdi:fullscreen': MdiFullscreen,
		'mdi:github': MdiGithub,
		'mdi:home-alert-outline': MdiHomeAlertOutline,
		'mdi:home-outline': MdiHomeOutline,
		'mdi:hub': MdiHub,
		'mdi:import': MdiImport,
		'mdi:invoice-scheduled-outline': MdiInvoiceScheduledOutline,
		'mdi:key-outline': MdiKeyOutline,
		'mdi:lan-connect': MdiLanConnect,
		'mdi:land-plots': MdiLandPlots,
		'mdi:language-java': MdiLanguageJava,
		'mdi:language-ruby': MdiLanguageRuby,
		'mdi:layers-outline': MdiLayersOutline,
		'mdi:lock-open-variant': MdiLockOpenVariant,
		'mdi:lock-outline': MdiLockOutline,
		'mdi:lock': MdiLock,
		'mdi:magnify': MdiMagnify,
		'mdi:magnify-minus-outline': MdiMagnifyMinusOutline,
		'mdi:magnify-plus-outline': MdiMagnifyPlusOutline,
		'mdi:marketplace-outline': MdiMarketplaceOutline,
		'mdi:menu': MdiMenu,
		'mdi:minus': MdiMinus,
		'mdi:moon-and-stars': MdiMoonAndStars,
		'mdi:package-variant-closed': MdiPackageVariantClosed,
		'mdi:palette-outline': MdiPaletteOutline,
		'mdi:open-in-new-variant': MdiOpenInNew,
		'mdi:fit-to-page-outline': MdiFitToPageOutline,
		'mdi:camera-rotate-outline': MdiPhoneRotateLandscape,
		'mdi:toggle-switch': MdiToggleSwitch,
		'mdi:toggle-switch-off-outline': MdiToggleSwitchOffOutline,
		'mdi:play-circle-outline': MdiPlayCircleOutline,
		'mdi:plus': MdiPlus,
		'mdi:power-plug': MdiPowerPlug,
		'mdi:receipt-text-send-outline': MdiReceiptTextSendOutline,
		'mdi:refresh': MdiRefresh,
		'mdi:reload': MdiReload,
		'mdi:resize-horizontal': MdiResizeHorizontal,
		'mdi:search': MdiSearch,
		'mdi:smartphone-link': MdiSmartphoneLink,
		'mdi:star-outline': MdiStarOutline,
		'mdi:star-three-points-outline': MdiStarThreePointsOutline,
		'mdi:sync': MdiSync,
		'mdi:table': MdiTable,
		'mdi:tune-vertical-variant': MdiTuneVerticalVariant,
		'mdi:unfold-more-horizontal': MdiUnfoldMoreHorizontal,
		'mdi:update': MdiUpdate,
		'mdi:video-outline': MdiVideoOutline,
		'mdi:view-dashboard-outline': MdiViewDashboardOutline,
		'mdi:warning-outline': MdiWarningOutline,
		'mdi:weather-sunny': MdiWeatherSunny,
		'mdi:wrench': MdiWrench
	};
</script>

<script>
	import { asset } from '$app/paths';

	/** @type {{icon: string, size?: string|number, class?: string, animate?: boolean|import('svelte/transition').DrawParams , repeat?: boolean, strokeWidth?: any} | any} */
	let {
		icon,
		size = 4,
		class: cls = '',
		// animate = false,
		// repeat = false,
		// strokeWidth = undefined
		...props
	} = $props();

	const resolvedSize = $derived(size == 'btn' ? 6 : ['nav', 'dashboard'].includes(size) ? 5 : size);
	const iconStyle = $derived(
		`width: calc(var(--spacing)*${resolvedSize});height: calc(var(--spacing)*${resolvedSize});`
	);
	const IconComponent = $derived(icon?.includes(':') ? ico[icon] : undefined);

	// let _animate = $state({ duration: 2000 });
	// let svg = $state(null);
	// let show = $state(false);
	// if (animate) {
	// 	if (animate != true) {
	// 		// @ts-ignore
	// 		_animate = animate;
	// 	}
	// 	onMount(() => {
	// 		svg = new DOMParser().parseFromString(ico[icon], 'image/svg+xml').documentElement;
	// 		let interval;
	// 		if (repeat) {
	// 			interval = window.setInterval(() => {
	// 				show = !show;
	// 			}, _animate.duration);
	// 		}
	// 		tick().then(() => (show = true));
	// 		return () => window.clearInterval(interval);
	// 	});
	// }
	// function attrToObj(element) {
	// 	return [...element.attributes].reduce((acc, attr) => {
	// 		acc[attr.name] = attr.value;
	// 		return acc;
	// 	}, {});
	// }
	// console.log('ConvertigoLogo', ConvertigoLogo);
	// console.log('MdiScanner', MdiScanner);
</script>

{#if IconComponent}
	<IconComponent class={`ico ${cls}`.trim()} style={iconStyle} {...props} />
{:else}
	<img
		src={asset(`/${icon}`)}
		class={cls}
		style="width: calc(var(--spacing)*{resolvedSize});"
		{...props}
	/>
{/if}
