<!--
Copyright (c) 2001-2025 Convertigo SA.

This program  is free software; you  can redistribute it and/or
Modify  it  under the  terms of the  GNU  Affero General Public
License  as published by  the Free Software Foundation;  either
version  3  of  the  License,  or  (at your option)  any  later
version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY;  without even the implied warranty of
MERCHANTABILITY  or  FITNESS  FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public
License along with this program;
if not, see <http://www.gnu.org/licenses/>.
-->
<h4 class="IconHelpTitle">Jobs</h4>
<a href="#" class="IconHelpLink" id="helpJobs" target="_blank"></a>
<div class="clear"></div>

<table id="scheduled_jobs" class="scheduledTableData"></table>
<button type="button" class="schedulerCreationButton" id="schedulerNewTransactionConvertigoJob">New Transaction</button>
<button type="button" class="schedulerCreationButton" id="schedulerNewSequenceConvertigoJob">New Sequence</button>
<button type="button" class="schedulerCreationButton" id="schedulerNewJobGroupJob">New Job Group</button>

<hr/>

<h4 class="IconHelpTitle">Schedules</h4> 
<a href="#" class="IconHelpLink" id="helpSchedules" target="_blank"></a>
<div class="clear"></div>

<table id="scheduled_schedules" class="scheduledTableDataCron"></table>
<button type="button" class="schedulerCreationButton" id="schedulerNewScheduleCron">New Cron</button>
<button type="button" class="schedulerCreationButton" id="schedulerNewScheduleRunNow">New Run Now</button>

<hr/>

<h4 class="IconHelpTitle">Scheduled Jobs</h4>
<a href="#" class="IconHelpLink" id="helpScheduledJobs" target="_blank"></a>
<div class="clear"></div>

<table id="scheduled_scheduledJobs" class="scheduledTableData"></table>
<button  type="button" class="schedulerCreationButton" id="schedulerNewScheduledJob">New Scheduled Job</button>

<div id="schedulerDialogAddEntry" class="main-display-none">
	<table>
		<tr>
			<td><label for="schedulerDialogNameField">Name: </label></td>
			<td><input name="name" type="text" id="schedulerDialogNameField" autocomplete="new-password"/></td>
		</tr> 
		<tr>
			<td><label for="schedulerDialogDescriptionField">Description: </label></td>
			<td><input name="description" type="text" id="schedulerDialogDescriptionField" autocomplete="new-password"/></td>
		</tr> 
		<tr>
			<td><label for="schedulerDialogEnabledField">Enabled: </label></td>
			<td><input name="enabled" type="checkbox" checked="checked" id="schedulerDialogEnabledField"/></td>
		</tr>   
	</table>
	
	<hr/>
	
	<table>
		<tr class="schedulerNewScheduledJob">
			<td>Association:</td>
			<td>
				<table>
					<tr>
						<th><label for="schedulerDialogJobNameField">Job</label></th>
						<th><label for="schedulerDialogScheduleNameField">Schedule</label></th>
					</tr>
					<tr>
						<td><select id="schedulerDialogJobNameField" size="8" name="jobName" class="schedulerSelect schedulerSelect_jobs"></select></td>
						<td><select id="schedulerDialogScheduleNameField" size="8" name="scheduleName" class="schedulerSelect schedulerSelect_schedules"></select></td> 		 		
					</tr>
				</table>
			</td>
		</tr>
		<tr class="schedulerNewTransactionConvertigoJob schedulerNewSequenceConvertigoJob">
			<td><label for="schedulerDialogContextField">Context: </label></td>
			<td><input name="context" type="text" id="schedulerDialogContextField" autocomplete="new-password"/></td>
		</tr>
		<tr class="schedulerNewTransactionConvertigoJob schedulerNewSequenceConvertigoJob">
			<td><label for="schedulerDialogWriteOutputField">Write output: </label></td>
			<td><input name="writeOutput" type="checkbox" id="schedulerDialogWriteOutputField"/></td>
		</tr>
		<tr class="schedulerNewTransactionConvertigoJob schedulerNewSequenceConvertigoJob">
			<td><label for="schedulerProjectSelect">Project: </label></td>
			<td><select name="project" id="schedulerProjectSelect"></select></td>
		</tr>		
		<tr class="schedulerNewTransactionConvertigoJob">
			<td><label for="schedulerConnectorSelect">Connector: </label></td>
			<td><select name="connector" id="schedulerConnectorSelect"></select></td>
		</tr> 
		<tr class="schedulerNewTransactionConvertigoJob">
			<td><label for="schedulerTransactionSelect">Transaction: </label></td>
			<td><select name="transaction" id="schedulerTransactionSelect"></select></td>
		</tr>
		<tr class="schedulerNewSequenceConvertigoJob">
			<td><label for="schedulerSequenceSelect">Sequence: </label></td>
			<td><select name="sequence" id="schedulerSequenceSelect"></select></td>
		</tr>   
		
		<tr class="schedulerNewTransactionConvertigoJob schedulerNewSequenceConvertigoJob">
			<td>Parameters: </td>
			<td>
				<select id="schedulerRequestableAllParameters" style="display:none;"></select>
				<table id="schedulerRequestableParameters">
					<tr><th>Name</th><th>Value</th><th>Description</th><th>Send</th></tr>
				</table>
			</td>
		</tr>
		<tr class="schedulerNewJobGroupJob">
			<td><label for="schedulerDialogGroupJobField">Group Job: </label></td>
			<td><select  multiple="multiple" name="jobsname" class="schedulerSelect schedulerSelect_jobs" id="schedulerDialogGroupJobField"></select></td>
		</tr>
		<tr class="schedulerNewJobGroupJob">
			<td><label for="schedulerDialogParallelJobField">Parallel Job execution: </label></td>
			<td><input name="parallelJob" type="number" min="1" max="99" id="schedulerDialogParallelJobField" value="1"/></td>
		</tr>
		<tr class="schedulerNewScheduleCron">
			<td><label for="schedulerCron">Cron: </label></td>
			<td><input name="cron" type="text" id="schedulerCron" autocomplete="new-password"/></td>
		</tr>
		<tr class="schedulerNewScheduleCron">
			<td><a class="schedulerLinks" href="https://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-06.html" target="_blank">Documentation </a></td>
			<td><a class="schedulerLinks" id="schedulerCronWizardLink">Cron wizard</a></td>
		</tr>
	</table>

	<div id="schedulerCronWizard" class="main-display-none">
		<table>
			<tr>
				<td>Hours</td>
				<td>Minutes</td>
				<td>Days of month</td>
				<td>Months</td>
				<td>Days of week</td>
			</tr>
			<tr>
				<td>
					<select size="8" multiple="multiple" id="schedulerCronWizardHours">
						<option value="*" selected="selected">every hour</option>
					</select>
				</td>
				<td>
					<select size="8" multiple="multiple" id="schedulerCronWizardMinutes">
						<option value="*" selected="selected">every minute</option>
					</select>
				</td>
				<td>
					<select size="8" multiple="multiple" id="schedulerCronWizardDaysOfMonth">
						<option value="?" selected="selected">all</option>
					</select>
				</td>
				<td>
					<select size="8" multiple="multiple" id="schedulerCronWizardMonths">
						<option value="*" selected="selected">all</option>
						<option value="1">January</option>
						<option value="2">February</option>
						<option value="3">March</option>
						<option value="4">April</option>
						<option value="5">May</option>
						<option value="6">June</option>
						<option value="7">July</option>
						<option value="8">August</option>
						<option value="9">September</option>
						<option value="10">October</option>
						<option value="11">November</option>
						<option value="12">December</option>
					</select>
				</td>
				<td>
					<select size="8" multiple="multiple" id="schedulerCronWizardDayOfWeek">
						<option value="?" selected="selected">any</option>
						<option value="2">Monday</option>
						<option value="3">Tuesday</option>
						<option value="4">Wednesday</option>
						<option value="5">Thursday</option>
						<option value="6">Friday</option>
						<option value="7">Saturday</option>
						<option value="1">Sunday</option>
					</select>
				</td>
			</tr>
		</table>
		<button type="button" id="schedulerCronWizardBtnGenerate">Generate</button>
		<button type="button" id="schedulerCronWizardBtnCancel">Cancel</button>
	</div>
</div>

<div id="schedulerTemplate" class="main-display-none">
	<img class="schedulerElementEnabled" src="images/convertigo-administration-picto-bullet-green.png" title="Enabled"/>
	<img class="schedulerElementDisabled" src="images/convertigo-administration-picto-bullet-red.png" title="Disabled"/>
	<img class="schedulerElementEdit" src="images/convertigo-administration-picto-edit.png" title="Edit"/>
	<img class="schedulerElementDelete" src="images/convertigo-administration-picto-delete.png" title="Delete">
	<table>
		<tr class="schedulerRequestableParameterRow">
			<td>
				<div class="single_valued value_text">
					<input type="text" alt="" class="champ variable_value" value="" autocomplete="new-password" />
				</div>
				<div class="single_valued value_password">
					<input type="password" alt="" class="champ variable_value" autocomplete="new-password" />
				</div>
				<div class="single_valued value_file">
					<input type="file" alt="" class="champ variable_value" />
				</div>
				<div class="multi_valued">
					<a title="add value" class="link_value_add">+ add a new value</a>
				</div>
				<div class="new_multi_valued value_text">
					<input type="text" alt="" class="champ variable_value" autocomplete="new-password" />
					<a title="remove value" class="link_value_remove">x</a>
				</div>
				<div class="new_multi_valued value_password">
					<input type="password" alt="" class="champ variable_value" autocomplete="new-password" /> 
					<a title="remove value" class="link_value_remove">x</a>
				</div>
				<div class="new_multi_valued value_file">
					<input type="file" alt="" class="champ variable_value" />
					<a title="remove value" class="link_value_remove">x</a>
				</div>
			</td>
<!-- 			<td class="schedulerRequestableParameterDescription">Description</td> -->
<!-- 			<td><input type="checkbox" checked="checked" title="Send"></input></td> -->
		</tr>
		<tr class="variable">
			<td class="variable_name">variable name</td>
			<td><input title="Send value" type="checkbox" class="variable_enable" /></td>
			<td class="variable_type"></td>
			<td title="description" class="variable_desc">variable description</td>
		</tr>
	</table>
</div>